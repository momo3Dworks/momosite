{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///F:/BLENDER%20CONTENT%20CREATOR%20COURSE/NEW%20MOMO%203D%20SITE/REFORGED_MOMO/momojourney/src/components/ScrollSurferScene.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useRef, useEffect, useCallback, useState } from 'react';\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass.js';\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass.js';\nimport { CopyShader } from 'three/examples/jsm/shaders/CopyShader.js';\nimport { useToast } from \"@/hooks/use-toast\";\n\n// Bloom effect parameters\nconst bloomParams = {\n  threshold: 0.3, \n  strength: 0.5,  \n  radius: 0.4,    \n};\n\n// Spaceship mouse interaction parameters\nconst mouseFollowSpeed = 0.07; \nconst shipRotationFactor = 0.4; \nconst shipMaxTilt = Math.PI / 9; \nconst parallaxFactorX = 6; \nconst parallaxFactorY = 3; \nconst SHIP_INTRO_ANIMATION_SPEED = 0.03;\n\n// Trail Particle Parameters\nconst MAX_TRAIL_PARTICLES = 150; \nconst PARTICLE_LIFETIME_MIN = 0.8; \nconst PARTICLE_LIFETIME_MAX = 1.5; \nconst PARTICLE_EMISSION_INTENSITY_THRESHOLD = 40.0; \nconst EFFECTIVE_EMISSION_RATE = 250.0; \nconst PARTICLE_SPEED_MIN = 4.0; \nconst PARTICLE_SPEED_MAX = 7.0; \nconst PARTICLE_BASE_SIZE = 0.2; \nconst PARTICLE_EMISSION_OFFSET = -0.35;\n\n// Acceleration Effect Parameters\nconst FORWARD_BOOST_AMOUNT = 40; // How much the ship lurches forward on scroll\nconst FOV_DECREASE_AMOUNT = 30; // How much the FOV narrows on scroll\nconst ACCELERATION_EFFECT_LERP_SPEED = 0.1; // Speed of FOV and boost interpolation\nconst SCROLL_DIRECTION_FOR_EFFECTS: 'down' | 'up' | 'both' = 'down'; // Configurable: 'down', 'up', or 'both'\n\n\nconst speedLinesVertexShader = `\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n`;\n\nconst speedLinesFragmentShader = `\n  uniform sampler2D tDiffuse;\n  uniform vec2 u_resolution;\n  uniform float u_time;\n  uniform float u_scroll_active; // 0.0 (not scrolling) or 1.0 (scrolling)\n  varying vec2 vUv;\n\n  float random(vec2 st) {\n      return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n  }\n\n  void main() {\n      vec4 originalColor = texture2D(tDiffuse, vUv);\n      vec3 finalColor = originalColor.rgb;\n\n      if (u_scroll_active > 0.01) { // Apply effect if scrolling is active\n          vec2 to_center = vec2(0.5) - vUv;\n          float dist_to_center = length(to_center);\n          \n          float line_intensity = 0.0;\n          \n          // Radial streaks from edges\n          float streaks = 0.0;\n          if (dist_to_center > 0.05) { // Avoid center\n              float angle = atan(to_center.y, to_center.x);\n              float num_lines = 30.0; // Number of distinct streak lines\n              float time_component = u_time * (2.0 + u_scroll_active * 3.0); // Faster animation when scrolling\n\n              for (float i = 0.0; i < num_lines; i += 1.0) {\n                  float line_progress = fract(random(vec2(i, i * 0.73)) + time_component * (0.02 + random(vec2(i*0.2,0.0)) * 0.03));\n                  float line_angle = random(vec2(i * 0.3, i * 0.91)) * 6.283185;\n                  \n                  float current_line_dist = abs(dist_to_center - (0.5 - line_progress * 0.5));\n                  float angle_diff = abs(mod(angle - line_angle + 3.14159, 6.283185) - 3.14159);\n                  \n                  float streak_brightness = smoothstep(0.015, 0.0, current_line_dist) * smoothstep(0.1, 0.0, angle_diff);\n                  streak_brightness *= (0.5 + line_progress * 0.5); // Fade in/out along length\n\n                  streaks += streak_brightness;\n              }\n          }\n          \n          line_intensity = clamp(streaks * u_scroll_active * 0.2, 0.0, 0.25); // Control overall intensity\n          vec3 speed_line_color = vec3(0.9, 0.9, 1.0) * line_intensity;\n          finalColor += speed_line_color;\n      }\n\n      gl_FragColor = vec4(finalColor, originalColor.a);\n  }\n`;\n\n\nconst ScrollSurferScene: React.FC = () => {\n  const mountRef = useRef<HTMLDivElement>(null);\n  const rendererRef = useRef<THREE.WebGLRenderer | null>(null);\n  const sceneRef = useRef<THREE.Scene | null>(null);\n  const cameraRef = useRef<THREE.PerspectiveCamera | null>(null);\n  const spaceshipRef = useRef<THREE.Group | null>(null);\n  const wormholeRef = useRef<THREE.Group | null>(null); // Ref for wormhole model\n  const composerRef = useRef<EffectComposer | null>(null);\n  const bloomPassRef = useRef<UnrealBloomPass | null>(null);\n  const speedLinesPassRef = useRef<ShaderPass | null>(null);\n  const mixerRef = useRef<THREE.AnimationMixer | null>(null); \n  \n  const trailParticlesRef = useRef<Array<any>>([]);\n  const trailParticleContainerRef = useRef<THREE.Group | null>(null);\n  const particleGeometryRef = useRef<THREE.PlaneGeometry | null>(null);\n  const particleMaterialRef = useRef<THREE.MeshBasicMaterial | null>(null);\n\n  const wormholeMaterial1Ref = useRef<THREE.MeshStandardMaterial | null>(null);\n  const wormholeMaterial2Ref = useRef<THREE.MeshStandardMaterial | null>(null);\n\n  const { toast } = useToast();\n\n  const mousePositionRef = useRef(new THREE.Vector2(0, 0));\n  const targetShipPositionRef = useRef(new THREE.Vector3(0, 0, 0));\n  const isMouseOutsideRef = useRef(false);\n  const shipIntroAnimationCompleteRef = useRef(false);\n\n  // Camera initial state (configurable in code)\n  const [cameraPosX, setCameraPosX] = useState(0); \n  const [cameraPosY, setCameraPosY] = useState(1.5); \n  const [cameraPosZ, setCameraPosZ] = useState(8); \n  const [cameraRotX, setCameraRotX] = useState(-0.05); \n  const [cameraRotY, setCameraRotY] = useState(0); \n  const [cameraRotZ, setCameraRotZ] = useState(0); \n  const [cameraFov, setCameraFov] = useState(70); \n\n  // Spaceship initial state (configurable in code)\n  const [shipBasePosX, setShipBasePosX] = useState(0); \n  const [shipBasePosY, setShipBasePosY] = useState(-1.5); \n  const [shipBasePosZ, setShipBasePosZ] = useState(-4); \n  const [shipRotX, setShipRotX] = useState(0); \n  const [shipRotY, setShipRotY] = useState(Math.PI); \n  const [shipRotZState, setShipRotZState] = useState(0); \n  const [shipScale, setShipScale] = useState(0.45); \n\n  // Spaceship emissive intensity state\n  const [shipEmissiveIntensity, setShipEmissiveIntensity] = useState(10.0); // Initial/Resting intensity\n  const targetEmissiveIntensityRef = useRef(30.0);\n  const isScrollingRef = useRef(false); // This ref specifically means \"effects are active\"\n  const scrollTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastScrollTopRef = useRef(0);\n\n  // Wormhole initial state (configurable in code)\n  const [wormholePosX, setWormholePosX] = useState(0); \n  const [wormholePosY, setWormholePosY] = useState(0); \n  const [wormholePosZ, setWormholePosZ] = useState(1000); \n  const [wormholeRotX, setWormholeRotX] = useState(0); \n  const [wormholeRotY, setWormholeRotY] = useState(0); \n  const [wormholeRotZ, setWormholeRotZ] = useState(0); \n  const [wormholeScale, setWormholeScale] = useState(10); \n\n  // Wormhole material states (configurable in code)\n  const [wormhole1EmissiveIntensity, setWormhole1EmissiveIntensity] = useState(45.0);\n  const [wormhole1OffsetXSpeed, setWormhole1OffsetXSpeed] = useState(0.02);\n  const [wormhole1OffsetYSpeed, setWormhole1OffsetYSpeed] = useState(-0.06);\n\n  const [wormhole2EmissiveIntensity, setWormhole2EmissiveIntensity] = useState(25.0);\n  const [wormhole2OffsetXSpeed, setWormhole2OffsetXSpeed] = useState(0.02);\n  const [wormhole2OffsetYSpeed, setWormhole2OffsetYSpeed] = useState(-0.09);\n\n  // Acceleration effect refs\n  const targetShipBoostZOffsetRef = useRef(0);\n  const currentShipBoostZOffsetRef = useRef(0);\n  const targetCameraFovForBoostRef = useRef(cameraFov); // Initialized with base cameraFov\n  \n  const emitTrailParticle = useCallback(() => {\n    if (!spaceshipRef.current || !trailParticleContainerRef.current || !particleGeometryRef.current || !particleMaterialRef.current || !cameraRef.current) return;\n    if (trailParticlesRef.current.length >= MAX_TRAIL_PARTICLES) return;\n\n    const spaceship = spaceshipRef.current;\n    const particle = new THREE.Mesh(particleGeometryRef.current, particleMaterialRef.current.clone()); \n\n    const shipWorldPosition = new THREE.Vector3();\n    spaceship.getWorldPosition(shipWorldPosition);\n    const shipWorldQuaternion = new THREE.Quaternion();\n    spaceship.getWorldQuaternion(shipWorldQuaternion);\n\n    const offsetVector = new THREE.Vector3(0, 0, PARTICLE_EMISSION_OFFSET); \n    offsetVector.applyQuaternion(shipWorldQuaternion);\n    particle.position.copy(shipWorldPosition).add(offsetVector);\n    \n    const baseVelocity = new THREE.Vector3(0, 0, -(PARTICLE_SPEED_MIN + Math.random() * (PARTICLE_SPEED_MAX - PARTICLE_SPEED_MIN)));\n    baseVelocity.applyQuaternion(shipWorldQuaternion); \n\n    baseVelocity.x += (Math.random() - 0.5) * 0.5;\n    baseVelocity.y += (Math.random() - 0.5) * 0.5;\n    baseVelocity.z += (Math.random() - 0.5) * 0.5;\n\n    const lifetime = PARTICLE_LIFETIME_MIN + Math.random() * (PARTICLE_LIFETIME_MAX - PARTICLE_LIFETIME_MIN);\n    \n    trailParticleContainerRef.current.add(particle);\n    trailParticlesRef.current.push({\n      mesh: particle,\n      velocity: baseVelocity,\n      life: lifetime,\n      maxLife: lifetime,\n      initialScale: PARTICLE_BASE_SIZE + (Math.random() - 0.5) * PARTICLE_BASE_SIZE * 0.3,\n    });\n  }, []);\n\n\n  const initThreeScene = useCallback((currentMount: HTMLDivElement) => {\n    if (!currentMount || rendererRef.current) return;\n\n    console.log(\"Initializing Three.js scene...\");\n\n    const scene = new THREE.Scene();\n    sceneRef.current = scene;\n    scene.fog = new THREE.Fog(0xffffff, 80, 300); \n    targetShipPositionRef.current.set(shipBasePosX, shipBasePosY, shipBasePosZ);\n    targetCameraFovForBoostRef.current = cameraFov; \n\n\n    const camera = new THREE.PerspectiveCamera(cameraFov, currentMount.clientWidth / currentMount.clientHeight, 0.1, 1000);\n    cameraRef.current = camera;\n    camera.position.set(cameraPosX, cameraPosY, cameraPosZ);\n    camera.rotation.set(cameraRotX, cameraRotY, cameraRotZ);\n    \n    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });\n    renderer.setSize(currentMount.clientWidth, currentMount.clientHeight);\n    renderer.setPixelRatio(window.devicePixelRatio || 1);\n    renderer.toneMapping = THREE.ACESFilmicToneMapping;\n    renderer.toneMappingExposure = 1.0;\n    currentMount.appendChild(renderer.domElement);\n    rendererRef.current = renderer;\n\n    // Effect Composer Setup\n    const composer = new EffectComposer(renderer);\n    composerRef.current = composer;\n\n    const renderPass = new RenderPass(scene, camera);\n    composer.addPass(renderPass);\n\n    const bloomPassInstance = new UnrealBloomPass(\n        new THREE.Vector2(currentMount.clientWidth, currentMount.clientHeight),\n        bloomParams.strength,\n        bloomParams.radius,\n        bloomParams.threshold\n    );\n    bloomPassRef.current = bloomPassInstance;\n    composer.addPass(bloomPassInstance);\n\n    // Speed Lines Pass\n    const speedLinesMaterial = new THREE.ShaderMaterial({\n        uniforms: {\n            tDiffuse: { value: null },\n            u_resolution: { value: new THREE.Vector2(currentMount.clientWidth, currentMount.clientHeight) },\n            u_time: { value: 0.0 },\n            u_scroll_active: { value: 0.0 },\n        },\n        vertexShader: speedLinesVertexShader,\n        fragmentShader: speedLinesFragmentShader,\n    });\n    const speedLinesPassInstance = new ShaderPass(speedLinesMaterial);\n    speedLinesPassRef.current = speedLinesPassInstance;\n    composer.addPass(speedLinesPassInstance);\n\n\n    const finalPass = new ShaderPass(CopyShader);\n    finalPass.renderToScreen = true; \n    composer.addPass(finalPass);\n\n\n    // Particle resources\n    particleGeometryRef.current = new THREE.PlaneGeometry(1, 1); \n    particleMaterialRef.current = new THREE.MeshBasicMaterial({\n        color: 0xffffff, \n        transparent: true,\n        opacity: 1.0,\n        blending: THREE.AdditiveBlending, \n        depthWrite: false, \n    });\n    trailParticleContainerRef.current = new THREE.Group();\n    scene.add(trailParticleContainerRef.current);\n\n\n    const rgbeLoader = new RGBELoader();\n    rgbeLoader.load(\n      '/hdri/sky_1.hdr',\n      (texture) => {\n        texture.mapping = THREE.EquirectangularReflectionMapping;\n        scene.environment = texture;\n        scene.background = texture; \n        console.log('HDRI loaded and set for environment and background.');\n      },\n      undefined,\n      (error) => {\n        console.error('Error loading HDRI:', error);\n        scene.background = new THREE.Color(0x05050a); \n        toast({ variant: 'destructive', title: 'HDRI Load Error', description: 'Could not load /hdri/sky_1.hdr. Using default dark background.' });\n      }\n    );\n    \n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.05); \n    scene.add(ambientLight);\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.02); \n    directionalLight.position.set(2, 5, -5);\n    scene.add(directionalLight);\n\n    const loader = new GLTFLoader();\n    loader.load(\n      '/models/spaceship.glb',\n      (gltf) => {\n        const spaceship = gltf.scene;\n        spaceshipRef.current = spaceship;\n        \n        const initialOffScreenZ = shipBasePosZ - -60; \n        spaceship.position.set(shipBasePosX, shipBasePosY, initialOffScreenZ);\n        shipIntroAnimationCompleteRef.current = false; \n\n        spaceship.rotation.set(shipRotX, shipRotY, shipRotZState);\n        spaceship.scale.set(shipScale, shipScale, shipScale);\n        \n        spaceship.traverse((child) => {\n          if (child instanceof THREE.Mesh && child.material) {\n            const materials = Array.isArray(child.material) ? child.material : [child.material];\n            materials.forEach(material => {\n              if ((material as THREE.MeshStandardMaterial).isMeshStandardMaterial) {\n                const standardMaterial = material as THREE.MeshStandardMaterial;\n                if (standardMaterial.emissiveMap) {\n                  standardMaterial.emissiveIntensity = 30.0; // Initial emissive state\n                  standardMaterial.needsUpdate = true;\n                }\n              }\n            });\n          }\n        });\n        scene.add(spaceship);\n        console.log('Spaceship model loaded.');\n\n        if (gltf.animations && gltf.animations.length) {\n          mixerRef.current = new THREE.AnimationMixer(spaceship);\n          gltf.animations.forEach((clip) => {\n            if(mixerRef.current){\n              const action = mixerRef.current.clipAction(clip);\n              action.play();\n            }\n          });\n          console.log(`Loaded ${gltf.animations.length} animations for spaceship.`);\n        } else {\n          console.log('No animations found in spaceship.glb.');\n        }\n\n      },\n      undefined,\n      (error) => {\n        console.error('Error loading spaceship model:', error);\n        toast({ variant: \"destructive\", title: \"Spaceship load error\", description: \"Could not load /models/spaceship.glb.\" });\n      }\n    );\n\n    loader.load(\n      '/models/WORMHOLE.glb',\n      (gltf) => {\n        const wormhole = gltf.scene;\n        wormholeRef.current = wormhole;\n        wormhole.position.set(wormholePosX, wormholePosY, wormholePosZ);\n        wormhole.rotation.set(wormholeRotX, wormholeRotY, wormholeRotZ);\n        wormhole.scale.set(wormholeScale, wormholeScale, wormholeScale);\n        \n        wormhole.traverse((child) => {\n          if (child instanceof THREE.Mesh && child.material) {\n            const material = child.material as THREE.MeshStandardMaterial;\n            if (material.name === \"WORMHOLE 1\") {\n              wormholeMaterial1Ref.current = material;\n              material.emissiveIntensity = wormhole1EmissiveIntensity;\n              if (material.map) { material.map.wrapS = material.map.wrapT = THREE.RepeatWrapping; }\n              if (material.emissiveMap) { material.emissiveMap.wrapS = material.emissiveMap.wrapT = THREE.RepeatWrapping; }\n              if (material.normalMap) { material.normalMap.wrapS = material.normalMap.wrapT = THREE.RepeatWrapping; }\n            } else if (material.name === \"WORMHOLE 2\") {\n              wormholeMaterial2Ref.current = material;\n              material.emissiveIntensity = wormhole2EmissiveIntensity;\n              if (material.map) { material.map.wrapS = material.map.wrapT = THREE.RepeatWrapping; }\n              if (material.emissiveMap) { material.emissiveMap.wrapS = material.emissiveMap.wrapT = THREE.RepeatWrapping; }\n              if (material.normalMap) { material.normalMap.wrapS = material.normalMap.wrapT = THREE.RepeatWrapping; }\n            }\n          }\n        });\n        scene.add(wormhole);\n        console.log('Wormhole model loaded.');\n      },\n      undefined,\n      (error) => {\n        console.error('Error loading wormhole model:', error);\n        toast({ variant: \"destructive\", title: \"Wormhole load error\", description: \"Could not load /models/WORMHOLE.glb.\" });\n      }\n    );\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    toast, \n    shipBasePosX, shipBasePosY, shipBasePosZ, \n    shipRotX, shipRotY, shipRotZState, shipScale, \n    wormholePosX, wormholePosY, wormholePosZ,\n    wormholeRotX, wormholeRotY, wormholeRotZ, wormholeScale,\n    wormhole1EmissiveIntensity, \n    wormhole2EmissiveIntensity, \n    cameraPosX, cameraPosY, cameraPosZ, cameraRotX, cameraRotY, cameraRotZ, cameraFov\n  ]); \n\n  useEffect(() => {\n    if (spaceshipRef.current) {\n      spaceshipRef.current.traverse((child) => {\n        if (child instanceof THREE.Mesh && child.material) {\n          const materials = Array.isArray(child.material) ? child.material : [child.material];\n          materials.forEach(material => {\n            if ((material as THREE.MeshStandardMaterial).isMeshStandardMaterial) {\n              const standardMaterial = material as THREE.MeshStandardMaterial;\n              if (standardMaterial.emissiveMap) { \n                standardMaterial.emissiveIntensity = shipEmissiveIntensity;\n                standardMaterial.needsUpdate = true; \n              }\n            }\n          });\n        }\n      });\n    }\n  }, [shipEmissiveIntensity]);\n\n  useEffect(() => {\n    if (wormholeMaterial1Ref.current) {\n      wormholeMaterial1Ref.current.emissiveIntensity = wormhole1EmissiveIntensity;\n      wormholeMaterial1Ref.current.needsUpdate = true;\n    }\n    if (wormholeMaterial2Ref.current) {\n      wormholeMaterial2Ref.current.emissiveIntensity = wormhole2EmissiveIntensity;\n      wormholeMaterial2Ref.current.needsUpdate = true;\n    }\n  }, [wormhole1EmissiveIntensity, wormhole2EmissiveIntensity]);\n\n  // Effect for initializing targetCameraFovForBoostRef when cameraFov changes\n  useEffect(() => {\n    targetCameraFovForBoostRef.current = cameraFov;\n  }, [cameraFov]);\n\n\n  const handleScroll = useCallback(() => {\n    const scrollTop = window.scrollY;\n    const scrollDelta = scrollTop - lastScrollTopRef.current;\n\n    let activateEffectsThisTick = false;\n    if (scrollDelta > 0 && SCROLL_DIRECTION_FOR_EFFECTS === 'down') {\n        activateEffectsThisTick = true;\n    } else if (scrollDelta < 0 && SCROLL_DIRECTION_FOR_EFFECTS === 'up') {\n        activateEffectsThisTick = true;\n    } else if (scrollDelta !== 0 && SCROLL_DIRECTION_FOR_EFFECTS === 'both') {\n        activateEffectsThisTick = true;\n    }\n\n    if (activateEffectsThisTick) {\n        if (!isScrollingRef.current) { // Effects were off, just turned on\n            targetEmissiveIntensityRef.current = 100.0; \n        } else { // Effects already on, vary intensity with scroll speed\n            const scrollSpeedFactor = Math.min(Math.abs(scrollDelta) / 50.0, 1.0); \n            targetEmissiveIntensityRef.current = 90.0 + scrollSpeedFactor * 10.0; \n        }\n        targetEmissiveIntensityRef.current = Math.max(90.0, Math.min(100.0, targetEmissiveIntensityRef.current));\n        \n        targetShipBoostZOffsetRef.current = -FORWARD_BOOST_AMOUNT;\n        if (cameraRef.current) targetCameraFovForBoostRef.current = cameraFov - FOV_DECREASE_AMOUNT;\n        isScrollingRef.current = true; // Mark effects as active\n    } else {\n        // Scroll not in desired direction, or no scroll (delta is 0)\n        // If effects were active and now the condition is not met, turn them off.\n        isScrollingRef.current = false;\n        targetEmissiveIntensityRef.current = 30.0;\n        targetShipBoostZOffsetRef.current = 0;\n        if (cameraRef.current) targetCameraFovForBoostRef.current = cameraFov;\n    }\n    \n    lastScrollTopRef.current = scrollTop;\n\n    // Clear previous timeout and set a new one to handle the \"scroll stopped\" case\n    if (scrollTimeoutRef.current) clearTimeout(scrollTimeoutRef.current);\n    scrollTimeoutRef.current = setTimeout(() => {\n        isScrollingRef.current = false; // Scrolling stopped, turn effects off\n        targetEmissiveIntensityRef.current = 30.0;\n        targetShipBoostZOffsetRef.current = 0;\n        if (cameraRef.current) targetCameraFovForBoostRef.current = cameraFov;\n    }, 150);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cameraFov]); // FOV_DECREASE_AMOUNT and FORWARD_BOOST_AMOUNT are constants\n\n\n  useEffect(() => {\n    if (!mountRef.current) return;\n    const currentMount = mountRef.current;\n    \n    if (!rendererRef.current) { \n      initThreeScene(currentMount);\n    }\n    \n    const clock = new THREE.Clock();\n\n    const handleMouseMove = (event: MouseEvent) => {\n        isMouseOutsideRef.current = false;\n        if (currentMount) { \n            const newMouseX = (event.clientX / currentMount.clientWidth) * 2 - 1;\n            const newMouseY = -(event.clientY / currentMount.clientHeight) * 2 + 1;\n            mousePositionRef.current.set(newMouseX, newMouseY);\n        }\n    };\n    window.addEventListener('mousemove', handleMouseMove);\n\n    const handleDocumentMouseLeave = () => { isMouseOutsideRef.current = true; };\n    document.documentElement.addEventListener('mouseleave', handleDocumentMouseLeave);\n    const handleDocumentMouseEnter = () => { isMouseOutsideRef.current = false; };\n    document.documentElement.addEventListener('mouseenter', handleDocumentMouseEnter);\n\n    let animationFrameId: number;\n    const animate = () => {\n      animationFrameId = requestAnimationFrame(animate);\n      const deltaTime = clock.getDelta();\n\n      if (mixerRef.current) {\n        mixerRef.current.update(deltaTime);\n      }\n\n      // Lerp ship emissive intensity\n      if (Math.abs(shipEmissiveIntensity - targetEmissiveIntensityRef.current) > 0.01) {\n        const lerpFactor = Math.min(deltaTime * 5.0, 1.0); \n        let newIntensity = THREE.MathUtils.lerp(shipEmissiveIntensity, targetEmissiveIntensityRef.current, lerpFactor); \n        setShipEmissiveIntensity(newIntensity);\n      }\n\n      // Lerp camera FOV for boost effect\n      if (cameraRef.current && Math.abs(cameraRef.current.fov - targetCameraFovForBoostRef.current) > 0.01) {\n        cameraRef.current.fov = THREE.MathUtils.lerp(cameraRef.current.fov, targetCameraFovForBoostRef.current, ACCELERATION_EFFECT_LERP_SPEED);\n        cameraRef.current.updateProjectionMatrix();\n      }\n\n      // Lerp ship Z boost offset\n      currentShipBoostZOffsetRef.current = THREE.MathUtils.lerp(\n        currentShipBoostZOffsetRef.current,\n        targetShipBoostZOffsetRef.current,\n        ACCELERATION_EFFECT_LERP_SPEED\n      );\n\n      if (wormholeMaterial1Ref.current) {\n        const mat1 = wormholeMaterial1Ref.current;\n        if (mat1.map) { mat1.map.offset.x += wormhole1OffsetXSpeed * deltaTime; mat1.map.offset.y += wormhole1OffsetYSpeed * deltaTime; }\n        if (mat1.emissiveMap) { mat1.emissiveMap.offset.x += wormhole1OffsetXSpeed * deltaTime; mat1.emissiveMap.offset.y += wormhole1OffsetYSpeed * deltaTime; }\n        if (mat1.normalMap) { mat1.normalMap.offset.x += wormhole1OffsetXSpeed * deltaTime; mat1.normalMap.offset.y += wormhole1OffsetYSpeed * deltaTime; }\n      }\n      if (wormholeMaterial2Ref.current) {\n        const mat2 = wormholeMaterial2Ref.current;\n        if (mat2.map) { mat2.map.offset.x += wormhole2OffsetXSpeed * deltaTime; mat2.map.offset.y += wormhole2OffsetYSpeed * deltaTime; }\n        if (mat2.emissiveMap) { mat2.emissiveMap.offset.x += wormhole2OffsetXSpeed * deltaTime; mat2.emissiveMap.offset.y += wormhole2OffsetYSpeed * deltaTime; }\n        if (mat2.normalMap) { mat2.normalMap.offset.x += wormhole2OffsetXSpeed * deltaTime; mat2.normalMap.offset.y += wormhole2OffsetYSpeed * deltaTime; }\n      }\n\n      if (spaceshipRef.current) {\n        if (!shipIntroAnimationCompleteRef.current) {\n            const targetIntroPosition = new THREE.Vector3(shipBasePosX, shipBasePosY, shipBasePosZ);\n            spaceshipRef.current.position.lerp(targetIntroPosition, SHIP_INTRO_ANIMATION_SPEED);\n\n            if (spaceshipRef.current.position.distanceTo(targetIntroPosition) < 0.01) {\n                spaceshipRef.current.position.copy(targetIntroPosition);\n                shipIntroAnimationCompleteRef.current = true;\n            }\n        } else { \n            let currentInputMouseX = mousePositionRef.current.x;\n            let currentInputMouseY = mousePositionRef.current.y;\n\n            if (isMouseOutsideRef.current) {\n                currentInputMouseX = 0; \n                currentInputMouseY = 0; \n            }\n            \n            targetShipPositionRef.current.x = currentInputMouseX * parallaxFactorX + shipBasePosX;\n            targetShipPositionRef.current.y = currentInputMouseY * parallaxFactorY + shipBasePosY;\n            targetShipPositionRef.current.z = shipBasePosZ + currentShipBoostZOffsetRef.current; \n\n            spaceshipRef.current.position.lerp(targetShipPositionRef.current, mouseFollowSpeed);\n\n            const baseForwardRotationY = shipRotY; \n            const targetPitch = shipRotX - THREE.MathUtils.clamp(currentInputMouseY * shipRotationFactor * 0.7, -shipMaxTilt, shipMaxTilt);\n            const targetYaw = baseForwardRotationY - THREE.MathUtils.clamp(currentInputMouseX * shipRotationFactor * 0.5, -shipMaxTilt * 0.8, shipMaxTilt * 0.8);\n            const targetRoll = shipRotZState - THREE.MathUtils.clamp(currentInputMouseX * shipRotationFactor, -shipMaxTilt, shipMaxTilt);\n\n            spaceshipRef.current.rotation.x = THREE.MathUtils.lerp(spaceshipRef.current.rotation.x, targetPitch, mouseFollowSpeed);\n            spaceshipRef.current.rotation.y = THREE.MathUtils.lerp(spaceshipRef.current.rotation.y, targetYaw, mouseFollowSpeed);\n            spaceshipRef.current.rotation.z = THREE.MathUtils.lerp(spaceshipRef.current.rotation.z, targetRoll, mouseFollowSpeed);\n        }\n      }\n\n      if (spaceshipRef.current && shipEmissiveIntensity > PARTICLE_EMISSION_INTENSITY_THRESHOLD) {\n        const emissionChanceFactor = Math.min(1.0, (shipEmissiveIntensity - PARTICLE_EMISSION_INTENSITY_THRESHOLD) / (100.0 - PARTICLE_EMISSION_INTENSITY_THRESHOLD));\n        const numToEmit = Math.floor(emissionChanceFactor * EFFECTIVE_EMISSION_RATE * deltaTime);\n        for (let k = 0; k < numToEmit; k++) {\n             if (Math.random() < emissionChanceFactor) emitTrailParticle(); \n        }\n      }\n\n      if (trailParticlesRef.current.length > 0 && cameraRef.current) {\n        for (let i = trailParticlesRef.current.length - 1; i >= 0; i--) {\n          const p = trailParticlesRef.current[i];\n          p.life -= deltaTime;\n\n          if (p.life <= 0) {\n            trailParticleContainerRef.current?.remove(p.mesh);\n            p.mesh.geometry.dispose();\n            if (p.mesh.material.map) p.mesh.material.map.dispose(); \n            p.mesh.material.dispose();\n            trailParticlesRef.current.splice(i, 1);\n          } else {\n            p.mesh.position.addScaledVector(p.velocity, deltaTime);\n            const lifeRatio = p.life / p.maxLife;\n            p.mesh.material.opacity = lifeRatio;\n            const currentScale = p.initialScale * (0.5 + lifeRatio * 0.5); \n            p.mesh.scale.set(currentScale, currentScale, currentScale);\n            p.mesh.lookAt(cameraRef.current.position); \n          }\n        }\n      }\n\n      if (speedLinesPassRef.current && rendererRef.current) {\n          speedLinesPassRef.current.uniforms.u_time.value = clock.getElapsedTime();\n          speedLinesPassRef.current.uniforms.u_scroll_active.value = isScrollingRef.current ? 1.0 : 0.0;\n          speedLinesPassRef.current.uniforms.u_resolution.value.set(\n            rendererRef.current.domElement.width,\n            rendererRef.current.domElement.height\n          );\n      }\n      \n      composerRef.current?.render(deltaTime);\n    };\n    animate();\n\n    const handleResize = () => {\n      if (!mountRef.current || !rendererRef.current || !cameraRef.current || !composerRef.current) return;\n      const width = currentMount.clientWidth;\n      const height = currentMount.clientHeight;\n      \n      cameraRef.current.aspect = width / height;\n      cameraRef.current.updateProjectionMatrix();\n      \n      rendererRef.current.setSize(width, height);\n      composerRef.current.setSize(width, height);\n      if (bloomPassRef.current) {\n         bloomPassRef.current.setSize(width, height);\n      }\n      if (speedLinesPassRef.current) {\n        speedLinesPassRef.current.uniforms.u_resolution.value.set(width, height);\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    handleResize(); \n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    lastScrollTopRef.current = window.scrollY; // Initialize lastScrollTopRef\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('mousemove', handleMouseMove);\n      document.documentElement.removeEventListener('mouseleave', handleDocumentMouseLeave);\n      document.documentElement.removeEventListener('mouseenter', handleDocumentMouseEnter);\n      if (scrollTimeoutRef.current) clearTimeout(scrollTimeoutRef.current);\n      if (animationFrameId) cancelAnimationFrame(animationFrameId);\n      \n      trailParticlesRef.current.forEach(p => {\n        if(trailParticleContainerRef.current) trailParticleContainerRef.current.remove(p.mesh);\n        p.mesh.geometry.dispose();\n        if (p.mesh.material.map) p.mesh.material.map.dispose();\n        p.mesh.material.dispose();\n      });\n      trailParticlesRef.current = [];\n      if (particleGeometryRef.current) particleGeometryRef.current.dispose();\n      if (particleMaterialRef.current) particleMaterialRef.current.dispose();\n\n\n      if (rendererRef.current && currentMount && rendererRef.current.domElement.parentNode === currentMount) {\n         currentMount.removeChild(rendererRef.current.domElement);\n      }\n      \n      composerRef.current?.dispose();\n      if (bloomPassRef.current) bloomPassRef.current.dispose(); \n      if (speedLinesPassRef.current) speedLinesPassRef.current.material.dispose(); \n      \n      rendererRef.current?.dispose();       \n      \n      sceneRef.current?.traverse(object => {\n        if (object instanceof THREE.Mesh) {\n          if (object.geometry) object.geometry.dispose();\n          if (Array.isArray(object.material)) {\n            object.material.forEach(mat => mat.dispose());\n          } else if (object.material) {\n            object.material.dispose();\n          }\n        }\n      });\n      if (sceneRef.current?.environment && typeof (sceneRef.current.environment as THREE.Texture).dispose === 'function') {\n          (sceneRef.current.environment as THREE.Texture).dispose();\n      }\n      if (sceneRef.current?.background && typeof (sceneRef.current.background as THREE.Texture).dispose === 'function') {\n        (sceneRef.current.background as THREE.Texture).dispose();\n      }\n\n      if (mixerRef.current) { \n        mixerRef.current.stopAllAction();\n        mixerRef.current = null;\n      }\n\n      sceneRef.current = null; \n      cameraRef.current = null;\n      spaceshipRef.current = null;\n      wormholeRef.current = null;\n      wormholeMaterial1Ref.current = null;\n      wormholeMaterial2Ref.current = null;\n      rendererRef.current = null; \n      composerRef.current = null;\n      bloomPassRef.current = null;\n      speedLinesPassRef.current = null;\n      trailParticleContainerRef.current = null;\n      particleGeometryRef.current = null;\n      particleMaterialRef.current = null;\n\n      console.log(\"Three.js scene cleaned up.\");\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    initThreeScene, \n    emitTrailParticle, \n    handleScroll, // Add handleScroll here as it's now a useCallback\n    wormhole1OffsetXSpeed, wormhole1OffsetYSpeed, wormhole2OffsetXSpeed, wormhole2OffsetYSpeed\n  ]);\n\n  return (\n    <>\n      <div ref={mountRef} style={{ width: '100vw', height: '100vh', position: 'fixed', top: 0, left: 0, zIndex: 0 }} />\n    </>\n  );\n};\n\nexport default ScrollSurferScene;\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}